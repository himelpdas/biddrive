<div id="ajax_failure_warning_message_container"></div>
{{if response.message:}}{{response.flash=None}}{{pass}} {{#message usually has better details than flash generated by web2py, so show only one}}
{{alert_headers = [response.flash, session.flash, response.message, response.message2, response.message3, session.message, session.message2]}}
{{alert_headers.reverse()#so they show up in proper order}}
{{for each in alert_headers:}}
	{{if each:}}
		{{if each[:1] == "$":}} {{#if first letter dollar sign then activate success div}}
			<div class="alert_headers alert alert-success">{{=each[1:]}} {{# "$"}}
		{{elif each[:1] == "!":}}
			<div class="alert_headers alert alert-warning">{{=each[1:]}} {{# "!"}}
		{{elif each[:1] == "@":}}
			<div class="alert_headers alert alert-danger">{{=each[1:]}} {{# "@"}}
		{{else:}}
			<div class="alert_headers alert alert-info" style="position:relative;top:0px;">{{=each}} {{# "&"}}
		{{pass}}
		<i class="fa fa-times-circle-o pull-right"></i>
		</div>
	{{pass}}
{{pass}}
{{response.flash = session.flash = response.message = response.message2 = response.message3 = session.message = session.message2 = None}} {{# http://goo.gl/7t2HKR must put session.flash in a different variable in controller because response.flash overrides it}}


{{block message_scripts}}
<script>
	$('.alert_headers').hide();
	$('.alert_headers').slideDown();
	$('.alert_headers').click(function(){
		$(this).slideUp();
	});
</script>
{{end}}